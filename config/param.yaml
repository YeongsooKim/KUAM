data_ns: '/kuam/data'
maneuver_ns: '/kuam/maneuver'
visual_ns: '/kuam/visual'

kuam:
  data:
    aruco_tracking:
      process_freq: 10.0
      
      # flag
      is_eval: false
      compare_mode: false

      # threshold
      marker_cnt_th: 25 # count for fixing target when multi marker detected
      filter_buf_size: 10 # moving average filter buff size
      noise_dist_th_m: 3.0
      noise_cnt_th: 6 # (3/5)*process_frequency

      # aruco marker
      dictionaryID: 0
      big_marker_id: 2
      small_marker_id: 3
      big_marker_size_m: 0.2
      small_marker_size_m: 0.06

      # testing
      test_list: [1, 2, 3, 4]
      
    usb_cam:
      video_device: '/dev/video0'
      brightness: 200
      contrast: 20
      saturation: 100
      sharpness: 40

      pixel_format: 'yuyv'

      autofocus: false
      focus: 51

      io_method: 'mmap'
      image_width: 640
      image_height: 480
      framerate: 10

      autoexposure: false
      exposure: 100
      gain: 10

      auto_white_balance: false
      white_balance: -1

      camera_frame_id: 'camera_link'
      camera_name: 'usb_cam'
  
  maneuver:
    state_machine:
      process_freq: 20.0

      # takeoff
      takeoff_alt_m: 3.0
      reached_dist_th_m: 0.7 # checking have reached to mission destination waypoint
      guidance_dist_th_m: 0.7 # checking have reached to next waypoint during flight mode

      # landing
      landing_threshold_m: 0.5 # for distingush kuam control and px4 control during landing 
      landing_standby_alt_m: 3.0 # waiting for detecting marker during landing state
      landing_duration_s: 120
      standby_dist_th_m: 1.5 # checking have reached to landing standby waypoint during landing state
      virtual_border_max_side_m: 6.0
      virtual_border_angle_0_deg: 20.0
      virtual_border_angle_1_deg: 10.0
      alt_division_m: 10.0

      # flight
      alt_offset_m: 23.156

      # emerg
      battery_th_per: 0.10

    tf_broadcaster:
      process_freq: 50.0
      
      # flag
      is_finding_home: false

      exp_camera_height_m: 1.5
      
      extrinsic_imu_to_camera_x: 0.1257
      extrinsic_imu_to_camera_y: 0.0
      extrinsic_imu_to_camera_z: 0.0
      
    mission_manager:
      process_freq: 30.0
    
